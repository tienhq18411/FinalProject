
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />

    <link rel="stylesheet" href="http://localhost:3000/assets/vendors/mdi/css/materialdesignicons.min.css" />
    <link rel="stylesheet" href="http://localhost:3000/assets/vendors/flag-icon-css/css/flag-icon.min.css" />
    <link rel="stylesheet" href="http://localhost:3000/assets/vendors/css/vendor.bundle.base.css" />
    <link rel="stylesheet" href="http://localhost:3000/assets/vendors/select2/select2.min.css" />
    <link rel="stylesheet" href="http://localhost:3000/assets/vendors/select2-bootstrap-theme/select2-bootstrap.min.css" />
    <link rel="stylesheet" href="http://localhost:3000/assets/css/style.css" />
    {{!-- <link rel="shortcut icon" href="http://localhost:3000/assets/images/favicon.png" /> --}}
    <style>
        .pagination {
            display: flex;
            gap: 5px;

        }
        .pagination div {
            color: black;
            float: left;
            padding: 8px 16px;
            text-decoration: none;
            transition: background-color .3s;
            font-family: "Rubik", sans-serif;
            font-weight: 500;
        }
        .pagination div.active {
            background-color: #4CAF50;
            color: white;
        }
        .disabled {
          pointer-events: none;
        }
    </style>
  </head>
  <body>
     <a href="/admin/viewComment"><button class="btn btn-light">Comment Management</button></a>
     <a href="/admin/viewAccountAdmin"><button class="btn btn-light">Account Management</button></a>

    <a href="/"><button class="btn btn-light">Back to home</button></a>
    <div class="row">
              <div class="col-lg-12 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title">Manage Post</h4>
                    <form method="get">
                    <div class="col-md-4">
                        <input type="text" name="searchKey" style="border: 1px solid #ebedf2 !important; border-radius: 10px;" class="form-control border-0 py-3" placeholder="Search Keyword">
                    </div>
                    </form>
                    </p>
                    <div class="table-responsive">
                      <table class="table">
                        <thead>
                          <tr>
                            <th>Title</th>
                            <th>Price</th>
                            <th>Size</th>
                            <th>Address</th>
                            <th>Image</th>
                            <th>User</th>
                            <th>Status</th>
                            <th>Action</th>
                          </tr>
                        </thead>
                        <tbody>
                            {{#each post}}
                          <tr>
                            <td>{{title}}</td>
                            <td>{{price}}</td>
                            <td>{{size}}</td>
                            <td>{{addressDetail}}</td>
                             <td>{{#each img}}
                                <img src="http://localhost:3000/uploads/{{this}}" width="10%" > 
                            {{/each}}</td>
                            <td>{{user.username}}</td>

                            <td>
                              <label class="badge badge-danger {{status}}">{{status}}</label>
                            </td>
                             <td>
                             {{#ifStatus status 'APPROVE'}}
                             <a href="/admin/updateStatusPost/{{id}}?action=APPROVE"><button class="btn btn-light">Approve</button></a>
                             {{/ifStatus}}
                             {{#ifStatus status 'PENDING'}}
                             <a href="/admin/updateStatusPost/{{id}}?action=PENDING"><button class="btn btn-light">Lock</button></a>
                             {{/ifStatus}}
                             </td>
                          </tr>
                          {{/each}}
                        </tbody>
                      </table>
                   
                    </div>
                      
                  </div>
                </div>
                
              </div>
                </div>
                <div class="col-12 text-center wow fadeInUp" data-wow-delay="0.1s">
                    <div class="pagination pagination-centered">
                        {{#paginate pagination type="first"}}
                        <div {{#if disabled}}class="disabled"{{/if}}><a href="?page={{n}}">First</a></div>
                        {{/paginate}}
                        {{#paginate pagination type="previous"}}
                        <div {{#if disabled}}class="disabled"{{/if}}><a href="?page={{n}}">Prev</a></div>
                        {{/paginate}}
                        {{#paginate pagination type="middle" limit="5"}}
                        <div {{#if active}}class="active"{{/if}}><a href="?page={{n}}">{{n}}</a></div>
                        {{/paginate}}
                        {{#paginate pagination type="next"}}
                        <div {{#if disabled}}class="disabled"{{/if}}><a href="?page={{n}}">Next</a></div>
                        {{/paginate}}
                        {{#paginate pagination type="last"}}
                        <div {{#if disabled}}class="disabled"{{/if}}><a href="?page={{n}}">Last</a></div>
                        {{/paginate}}               
                    </div>
                </div>
<style>
  .INIT {
    border: 1px solid grey;
    background-color: grey;
  }
  .PENDING {
    border: 1px solid orange;
    background-color: orange;
  }
  .APPROVE {
    border: 1px solid green;
    background-color: green;
  }
  .BAN {
    border: 1px solid red;
    background-color: red;
  }
  .LOCK {
    border: 1px solid black;
    background-color: black;
  }
</style>
<!-- Template Javascript -->
    <script src="http://localhost:3000/js/main.js"></script>
    <script src="http://localhost:3000/assets/vendors/js/vendor.bundle.base.js"></script>
    <script src="http://localhost:3000/assets/vendors/select2/select2.min.js"></script>
    <script src="http://localhost:3000/assets/vendors/typeahead.js/typeahead.bundle.min.js"></script>
    <script src="http://localhost:3000/assets/js/off-canvas.js"></script>
    <script src="http://localhost:3000/assets/js/hoverable-collapse.js"></script>
    <script src="http://localhost:3000/assets/js/misc.js"></script>
    <script src="http://localhost:3000/assets/js/file-upload.js"></script>
    <script src="http://localhost:3000/assets/js/typeahead.js"></script>
    <script src="http://localhost:3000/assets/js/select2.js"></script>
  </body>
</html>